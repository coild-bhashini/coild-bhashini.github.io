"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_document-dropzone-element_element-entry_ts"],{70693:(e,t,r)=>{var n=r(39595);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}let DocumentDropzoneElement=class DocumentDropzoneElement extends HTMLElement{connectedCallback(){for(let[e,t]of(this.events={dragstart:this.dragStartHandler.bind(this),dragend:this.dragEndHandler.bind(this),dragenter:this.dragEnterHandler.bind(this),dragover:this.dragEnterHandler.bind(this),dragleave:this.bodyDragLeaveHandler.bind(this),drop:this.dropHandler.bind(this)},Object.entries(this.events)))("drop"===e?this:document.body).addEventListener(e,t)}disconnectedCallback(){for(let[e,t]of Object.entries(this.events))("drop"===e?this:document.body).removeEventListener(e,t)}hasFile(e){return Array.from(e.types).indexOf("Files")>=0}dragEnterHandler(e){if(this.ignorePageElementDrag)return;this.dragging&&window.clearTimeout(this.dragging),this.dragging=window.setTimeout(()=>this.dropContainer.classList.remove("dragover"),200);let t=e.dataTransfer;t&&this.hasFile(t)&&(t.dropEffect="copy",this.dropContainer.classList.add("dragover"),e.stopPropagation(),e.preventDefault())}bodyDragLeaveHandler(e){e.target instanceof DocumentDropzoneElement&&this.dropContainer.classList.remove("dragover")}dropHandler(e){this.dropContainer.classList.remove("dragover"),document.body.classList.remove("dragover");let t=e.dataTransfer;t&&this.hasFile(t)&&(this.dropContainer.dispatchEvent(new CustomEvent("document:drop",{bubbles:!0,cancelable:!0,detail:{transfer:t}})),e.stopPropagation(),e.preventDefault())}dragStartHandler(){this.ignorePageElementDrag=!0}dragEndHandler(){this.ignorePageElementDrag=!1}constructor(...e){super(...e),a(this,"dragging",null),a(this,"ignorePageElementDrag",!1),a(this,"events",{})}};o([n.aC],DocumentDropzoneElement.prototype,"dropContainer",void 0),DocumentDropzoneElement=o([n.p_],DocumentDropzoneElement)}}]);
//# sourceMappingURL=ui_packages_document-dropzone-element_element-entry_ts-31925554264f.js.map